CREATE TABLE forumcategory (id BIGINT UNSIGNED AUTO_INCREMENT, title VARCHAR(255) NOT NULL COMMENT 'Category name', sortfactor TINYINT DEFAULT 0 NOT NULL COMMENT 'Used in order by', PRIMARY KEY(id)) COMMENT = 'Forum category' DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE forumtopic (id BIGINT UNSIGNED AUTO_INCREMENT, forumcategory_id BIGINT UNSIGNED NOT NULL COMMENT 'Category ID', title VARCHAR(255) NOT NULL COMMENT 'Topic name', published TINYINT UNSIGNED NOT NULL COMMENT 'Is topic published', created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX forumcategory_id_idx (forumcategory_id), PRIMARY KEY(id)) COMMENT = 'Forum topics' DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
ALTER TABLE forumtopic ADD CONSTRAINT forumtopic_forumcategory_id_forumcategory_id FOREIGN KEY (forumcategory_id) REFERENCES forumcategory(id);
